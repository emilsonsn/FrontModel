<app-loader [loading]="loading"></app-loader>

<div class="container-fluid">
    <div class="row">
      <div class="col-12 vh-100 d-flex align-items-center justify-content-center bg-login"
        style="background-image: url('assets/images/session/background-login.jpg');">
        <div class="login-container">
          <mat-card class="p-4" *ngIf="!emailSended">
            <form [formGroup]="form">
              <div class="row">
                <div class="col-12 text-center title mb-3">
                    <p>Recuperação de senha.</p> 
                    <p>Digite seu e-mail</p> 
                </div>
                <div class="col-12">
                  <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input type="email" formControlName="email" matInput placeholder="Ex. exemplo@examplo.com">
                  </mat-form-field>
                </div>
                <div class="col-12 d-flex align-itens-center justify-content-between">
                  <div class="col-6 mt-3 login-btn">
                    <button type="submit" mat-flat-button color="primary" (click)="send(form)">Enviar</button>
                  </div>
                  <div class="col-6 mt-3 login-btn">
                    <button mat-flat-button color="primary" (click)="cancel()">Cancelar</button>
                  </div>
                </div>
              </div>
            </form>
          </mat-card>
					<ng-container *ngIf="emailSended">
            <mat-card class="p-4">
              <div class="col-12 text-center title mb-3">
                <p>Um email foi enviado para:</p>
                <p><strong> {{ form.get('email').value }} </strong></p> 
                <p>Por favor verifique este email para seguirmos com a recuperação</p> 
              </div>
              <div class="col-12 d-flex align-itens-center justify-content-center">
                <div class="col-6 mt-3 login-btn">
                  <button mat-flat-button color="primary" (click)="goLogin()">OK</button>
                </div>
              </div>
            </mat-card>
          </ng-container>
        </div>
      </div>
    </div>
  </div>